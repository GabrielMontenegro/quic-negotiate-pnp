<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.2.9 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
]>

<?rfc toc="yes"?>
<?rfc sortrefs="yes"?>
<?rfc symrefs="yes"?>

<rfc ipr="trust200902" docName="draft-montenegro-quic-negotiate-pnp-latest" category="std">

  <front>
    <title abbrev="QUIC PNP Negotiation">QUIC Negotiation for Packer Number Protection</title>

    <author initials="G." surname="Montenegro" fullname="Gabriel Montenegro">
      <organization>Microsoft Corporation</organization>
      <address>
        <email>Gabriel.Montenegro@Microsoft.com</email>
      </address>
    </author>
    <author initials="N." surname="Banks" fullname="Nick Banks">
      <organization>Microsoft Corporation</organization>
      <address>
        <email>NiBanks@Microsoft.com</email>
      </address>
    </author>
    <author initials="P." surname="Balasubramanian" fullname="Praveen Balasubramanian">
      <organization>Microsoft Corporation</organization>
      <address>
        <email>PravB@Microsoft.com</email>
      </address>
    </author>

    <date />

    <area>Transport</area>
    <workgroup>QUIC</workgroup>
    <keyword>Internet-Draft</keyword>

    <abstract>


<t>This document defines an extension to reduce the cost of QUIC deployment in environments like datacenters by allowing packet number protection to be optionally disabled.</t>



    </abstract>


    <note title="Note to Readers">


<t>Discussion of this draft takes place on the QUIC working group mailing list
(quic@ietf.org), which is archived at
<eref target="https://mailarchive.ietf.org/arch/search/?email_list=quic">https://mailarchive.ietf.org/arch/search/?email_list=quic</eref>.</t>

<t>Working Group information can be found at <eref target="https://github.com/quicwg">https://github.com/quicwg</eref>; source
code and issues list for this draft can be found at
<eref target="https://github.com/quicwg/base-drafts/labels/-recovery">https://github.com/quicwg/base-drafts/labels/-recovery</eref>.</t>


    </note>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t>QUIC is a new transport for the internet. In its generality, there are features which are not well suited
for some environments. In particular, QUIC uses Packet Number Protection (PNP)
to prevent ossification and to provide unlinkability upon (voluntary) migration.
However, there are environments where these are not a concern, in particular,
connections within a datacenter.</t>

<t>This document defines
a negotiation mechanism using transport parameters to disable PNP. Internet facing nodes MUST not disable PNP, so
browsers, for example, should not implement this extension. On the other hand, configured nodes
within a datacenter could turn off PNP in their exchanges to avoid the CPU cost that PNP implies.</t>

</section>
<section anchor="conventions-and-definitions" title="Conventions and Definitions">

<t>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”,
“SHOULD NOT”, “RECOMMENDED”, “NOT RECOMMENDED”, “MAY”, and “OPTIONAL” in this
document are to be interpreted as described in BCP 14 <xref target="RFC2119"/> <xref target="RFC8174"/>
when, and only when, they appear in all capitals, as shown here.</t>

</section>
<section anchor="transport-parameter-to-disable-packet-number-protection" title="Transport Parameter to Disable Packet Number Protection">

<t>This document defines a new transport parameter for QUIC <xref target="QUIC-TRANSPORT"/>:</t>

<t><list style="hanging">
  <t hangText='disable_packet_number_protection (0x000c ?, value TBD):'>
  The endpoint is disabling packet number protection as specified in <xref target="QUIC-TLS"/>.
This parameter is a zero-length value. This parameter only affects short headers.</t>
</list></t>

<t>A successful negotiation of the “disable_packet_number_protection” parameter
requires both peers to send this transport parameter.</t>

<t>Peers that have successfully negotiated the “disable_packet_number_protection” parameter MUST NOT use packet number protection on short header packets.</t>

</section>
<section anchor="security-considerations" title="Security Considerations">

<t>Per section 6.11.5 of <xref target="QUIC-TLS"/>, PNP is used as a partial mitigation against linkability, and to
prevent ossification.
The “disable_packet_number_protection” parameter should be negotiated in environments in which these are not
a concern.</t>

</section>
<section anchor="iana-considerations" title="IANA Considerations">

<t>Per section 13.1 of <xref target="QUIC-TLS"/>, this document requests IANA assign a value for the new transport parameter
and record it in the registry for “QUIC Transport Parameters” under the “QUIC Protocol” heading.
IANA is further requested to assign a value with the first byte in the range 0x00 to 0xfe (in
hexadecimal) as follows:</t>

<texttable>
      <ttcol align='left'>Value</ttcol>
      <ttcol align='left'>Parameter Name</ttcol>
      <ttcol align='left'>Specification</ttcol>
      <c>0x000c</c>
      <c>disable_packet_number_protection</c>
      <c>This document</c>
</texttable>

</section>


  </middle>

  <back>

    <references title='Normative References'>

<reference anchor="QUIC-TRANSPORT" >
  <front>
    <title>QUIC: A UDP-Based Multiplexed and Secure Transport</title>
    <author initials="J." surname="Iyengar" fullname="Jana Iyengar" role="editor">
      <organization>Fastly</organization>
    </author>
    <author initials="M." surname="Thomson" fullname="Martin Thomson" role="editor">
      <organization>Mozilla</organization>
    </author>
    <date />
  </front>
  <seriesInfo name="Internet-Draft" value="draft-ietf-quic-transport-latest"/>
</reference>
<reference anchor="QUIC-TLS" >
  <front>
    <title>Using Transport Layer Security (TLS) to Secure QUIC</title>
    <author initials="M." surname="Thomson" fullname="Martin Thomson" role="editor">
      <organization>Mozilla</organization>
    </author>
    <author initials="S." surname="Turner" fullname="Sean Turner" role="editor">
      <organization>sn3rd</organization>
    </author>
    <date />
  </front>
  <seriesInfo name="Internet-Draft" value="draft-ietf-quic-tls-latest"/>
</reference>




<reference  anchor="RFC2119" target='https://www.rfc-editor.org/info/rfc2119'>
<front>
<title>Key words for use in RFCs to Indicate Requirement Levels</title>
<author initials='S.' surname='Bradner' fullname='S. Bradner'><organization /></author>
<date year='1997' month='March' />
<abstract><t>In many standards track documents several words are used to signify the requirements in the specification.  These words are often capitalized. This document defines these words as they should be interpreted in IETF documents.  This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t></abstract>
</front>
<seriesInfo name='BCP' value='14'/>
<seriesInfo name='RFC' value='2119'/>
<seriesInfo name='DOI' value='10.17487/RFC2119'/>
</reference>



<reference  anchor="RFC8174" target='https://www.rfc-editor.org/info/rfc8174'>
<front>
<title>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</title>
<author initials='B.' surname='Leiba' fullname='B. Leiba'><organization /></author>
<date year='2017' month='May' />
<abstract><t>RFC 2119 specifies common key words that may be used in protocol  specifications.  This document aims to reduce the ambiguity by clarifying that only UPPERCASE usage of the key words have the  defined special meanings.</t></abstract>
</front>
<seriesInfo name='BCP' value='14'/>
<seriesInfo name='RFC' value='8174'/>
<seriesInfo name='DOI' value='10.17487/RFC8174'/>
</reference>




    </references>





  </back>

<!-- ##markdown-source:
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
eY/0m+r4SM/l+K040/lwDDNC/AoDLP5yKRIAAA==

-->

</rfc>

